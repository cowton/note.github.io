<h1 id="可靠传输的基本原理"><a href="#可靠传输的基本原理" class="headerlink" title="可靠传输的基本原理"></a>可靠传输的基本原理</h1><h1 id="停止等待协议"><a href="#停止等待协议" class="headerlink" title="停止等待协议"></a>停止等待协议</h1><blockquote>
<p>停止等待协议通过<code>**超时重传**</code>保证<strong>可靠传输</strong></p>
</blockquote>
<h2 id="无差错条件下"><a href="#无差错条件下" class="headerlink" title="无差错条件下"></a>无差错条件下</h2><p>发送方发送一个消息之后等待接收方消息确认之后再发送第二个消息</p>
<p><img src="Untitled%2012/Untitled.png" alt="Untitled%2012/Untitled.png"></p>
<h2 id="出错情况一——发送的消息在路上丢失"><a href="#出错情况一——发送的消息在路上丢失" class="headerlink" title="出错情况一——发送的消息在路上丢失"></a>出错情况一——发送的消息在路上丢失</h2><p>发送方发送消息之后等待确认消息，等待一段时间之后并没有收到确认消息，会导致超时重传</p>
<p><img src="Untitled%2012/Untitled%201.png" alt="Untitled%2012/Untitled%201.png"></p>
<h2 id="出错情况二——确认的消息在路上丢失"><a href="#出错情况二——确认的消息在路上丢失" class="headerlink" title="出错情况二——确认的消息在路上丢失"></a>出错情况二——确认的消息在路上丢失</h2><p>同样也需要超时重传</p>
<p><img src="Untitled%2012/Untitled%202.png" alt="Untitled%2012/Untitled%202.png"></p>
<h2 id="出错情况三——确认的消息很久才到"><a href="#出错情况三——确认的消息很久才到" class="headerlink" title="出错情况三——确认的消息很久才到"></a>出错情况三——确认的消息很久才到</h2><p><img src="Untitled%2012/Untitled%203.png" alt="Untitled%2012/Untitled%203.png"></p>
<h2 id="实现方式——超时定时器"><a href="#实现方式——超时定时器" class="headerlink" title="实现方式——超时定时器"></a>实现方式——超时定时器</h2><ul>
<li>每发送一个消息，都需要设置一个定时器——<strong>超时定时器</strong></li>
<li>TCP协议中一共有<strong>四个定时器</strong></li>
</ul>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul>
<li>停止等待协议是最简单的可靠传输协议</li>
<li>对<code>**信道的利用效率不高**</code></li>
</ul>
<h1 id="连续ARQ协议"><a href="#连续ARQ协议" class="headerlink" title="连续ARQ协议"></a>连续ARQ协议</h1><h2 id="利用效率高"><a href="#利用效率高" class="headerlink" title="利用效率高"></a>利用效率高</h2><h2 id="实现方式"><a href="#实现方式" class="headerlink" title="实现方式"></a>实现方式</h2><p><img src="Untitled%2012/Untitled%204.png" alt="Untitled%2012/Untitled%204.png"></p>
<p><img src="Untitled%2012/Untitled%205.png" alt="Untitled%2012/Untitled%205.png"></p>
<p><strong>连续发送了6个报文，假设收到了1、2两个，窗口向前移动两个位置，再发送7、8两个报文，等确认消息到达之后再往后发送，批量发送的报文称为窗口，而可以滑动的窗口称为滑动窗口</strong></p>
<ul>
<li><code>**滑动窗口**</code> 向前推动发送</li>
<li>不需要对每个报文进行确认，采用<strong>累计确认</strong>的方法</li>
</ul>
<p>比如收到了5的确认消息就代表5之前的消息都被接收，窗口向前推进五格，窗口可以发送7-11这五个数据</p>
<p><img src="Untitled%2012/Untitled%206.png" alt="Untitled%2012/Untitled%206.png"></p>
