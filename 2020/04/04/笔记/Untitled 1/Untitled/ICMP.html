<h1 id="ICMP协议"><a href="#ICMP协议" class="headerlink" title="ICMP协议"></a>ICMP协议</h1><h1 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h1><p>网际控制报文协议(Internet Control Message Protocol)</p>
<ul>
<li>主要是<code>**进行网络中传输的错误和异常的报告**</code></li>
</ul>
<p><img src="ICMP/Untitled.png" alt="ICMP/Untitled.png"></p>
<p>ICMP封装在IP数据报</p>
<p><img src="ICMP/Untitled%201.png" alt="ICMP/Untitled%201.png"></p>
<h2 id="格式"><a href="#格式" class="headerlink" title="格式"></a>格式</h2><p><img src="ICMP/Untitled%202.png" alt="ICMP/Untitled%202.png"></p>
<h3 id="协议"><a href="#协议" class="headerlink" title="协议"></a>协议</h3><p><img src="ICMP/Untitled%203.png" alt="ICMP/Untitled%203.png"></p>
<h1 id="种类"><a href="#种类" class="headerlink" title="种类"></a>种类</h1><h3 id="差错报告报文"><a href="#差错报告报文" class="headerlink" title="差错报告报文"></a>差错报告报文</h3><p>多用</p>
<p><img src="ICMP/Untitled%204.png" alt="ICMP/Untitled%204.png"></p>
<h3 id="询问报文"><a href="#询问报文" class="headerlink" title="询问报文"></a>询问报文</h3><ul>
<li>时间同步</li>
</ul>
<p><img src="ICMP/Untitled%205.png" alt="ICMP/Untitled%205.png"></p>
<h1 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h1><h2 id="Ping-应用"><a href="#Ping-应用" class="headerlink" title="Ping 应用"></a>Ping 应用</h2><h3 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h3><p>ping发出的报文的长度是32字节, IP首部+ICMP报文的长度</p>
<p><img src="ICMP/Untitled%206.png" alt="ICMP/Untitled%206.png"></p>
<p><img src="ICMP/Untitled%207.png" alt="ICMP/Untitled%207.png"></p>
<h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><ul>
<li>ping回环127.0.0.1</li>
<li>ping网关地址</li>
<li>ping远端地址</li>
</ul>
<h1 id="Traceroute"><a href="#Traceroute" class="headerlink" title="Traceroute"></a>Traceroute</h1><p>探测IP数据报在网络中走过的路径</p>
<p>利用了TTL和ICMP差错不可达的原理</p>
<p><img src="ICMP/Untitled%208.png" alt="ICMP/Untitled%208.png"></p>
<p><img src="ICMP/Untitled%209.png" alt="ICMP/Untitled%209.png"></p>
